{"id":"Components/Dashboard.js","dependencies":[{"name":"/parcel_blueprint/.babelrc","includedInParent":true,"mtime":1718293933214},{"name":"/parcel_blueprint/package.json","includedInParent":true,"mtime":1719935541155},{"name":"@babel/runtime/helpers/defineProperty","parent":"/parcel_blueprint/src/Components/Dashboard.js","resolved":"/parcel_blueprint/node_modules/@babel/runtime/helpers/defineProperty.js"},{"name":"@babel/runtime/helpers/toConsumableArray","parent":"/parcel_blueprint/src/Components/Dashboard.js","resolved":"/parcel_blueprint/node_modules/@babel/runtime/helpers/toConsumableArray.js"},{"name":"@babel/runtime/helpers/asyncToGenerator","parent":"/parcel_blueprint/src/Components/Dashboard.js","resolved":"/parcel_blueprint/node_modules/@babel/runtime/helpers/asyncToGenerator.js"},{"name":"@babel/runtime/helpers/slicedToArray","parent":"/parcel_blueprint/src/Components/Dashboard.js","resolved":"/parcel_blueprint/node_modules/@babel/runtime/helpers/slicedToArray.js"},{"name":"@babel/runtime/helpers/taggedTemplateLiteral","parent":"/parcel_blueprint/src/Components/Dashboard.js","resolved":"/parcel_blueprint/node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"},{"name":"@babel/runtime/regenerator","parent":"/parcel_blueprint/src/Components/Dashboard.js","resolved":"/parcel_blueprint/node_modules/@babel/runtime/regenerator/index.js"},{"name":"react","loc":{"line":1,"column":54,"index":54},"parent":"/parcel_blueprint/src/Components/Dashboard.js","resolved":"/parcel_blueprint/node_modules/react/index.js"},{"name":"styled-components","loc":{"line":2,"column":19,"index":82},"parent":"/parcel_blueprint/src/Components/Dashboard.js","resolved":"/parcel_blueprint/node_modules/styled-components/dist/styled-components.browser.esm.js"},{"name":"axios","loc":{"line":3,"column":18,"index":121},"parent":"/parcel_blueprint/src/Components/Dashboard.js","resolved":"/parcel_blueprint/node_modules/axios/index.js"},{"name":"react-icons/fa","loc":{"line":4,"column":39,"index":169},"parent":"/parcel_blueprint/src/Components/Dashboard.js","resolved":"/parcel_blueprint/node_modules/react-icons/fa/index.mjs"},{"name":"react-modal","loc":{"line":5,"column":18,"index":205},"parent":"/parcel_blueprint/src/Components/Dashboard.js","resolved":"/parcel_blueprint/node_modules/react-modal/lib/index.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Dashboard = Dashboard;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _axios = _interopRequireDefault(require(\"axios\"));\nvar _fa = require(\"react-icons/fa\");\nvar _reactModal = _interopRequireDefault(require(\"react-modal\"));\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15, _templateObject16, _templateObject17, _templateObject18, _templateObject19, _templateObject20, _templateObject21, _templateObject22, _templateObject23, _templateObject24, _templateObject25, _templateObject26, _templateObject27;\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar StyledDashboard = _styledComponents.default.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2.default)([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: flex-start;\\n  height: 100vh;\\n  background-color: #fff8e1;\\n  padding: 20px;\\n  overflow-y: auto;\\n\"])));\nvar OrderHistoryButton = _styledComponents.default.button(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2.default)([\"\\n  padding: 10px 20px;\\n  margin: 10px 0;\\n  background-color: #ffc72c;\\n  border: none;\\n  border-radius: 5px;\\n  font-size: 16px;\\n  cursor: pointer;\\n  &:hover {\\n    background-color: #e0a800;\\n  }\\n\"])));\nvar Label = _styledComponents.default.label(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2.default)([\"\\n  padding-right: 10px;\\n  text-align: right;\\n\"])));\nvar FormGroup = _styledComponents.default.div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2.default)([\"\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  margin-bottom: 10px;\\n\"])));\nvar Header = _styledComponents.default.header(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2.default)([\"\\n  width: 100%;\\n  background-color: #ffc72c;\\n  padding: 10px;\\n  text-align: center;\\n  font-size: 24px;\\n  font-weight: bold;\\n  color: #000;\\n  position: relative;\\n\"])));\nvar IconsWrapper = _styledComponents.default.div(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2.default)([\"\\n  position: absolute;\\n  top: 10px;\\n  right: 100px;\\n  display: flex;\\n  align-items: center;\\n\\n\"])));\nvar CartIcon = _styledComponents.default.div(_templateObject7 || (_templateObject7 = (0, _taggedTemplateLiteral2.default)([\"\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  display: flex;\\n  align-items: center;\\n  cursor: pointer;\\n\"])));\nvar UserIcon = _styledComponents.default.div(_templateObject8 || (_templateObject8 = (0, _taggedTemplateLiteral2.default)([\"\\n  position: absolute;\\n  top: 10px;\\n  right: 50px;\\n  display: flex;\\n  align-items: center;\\n  cursor: pointer;\\n\"])));\nvar CartCount = _styledComponents.default.span(_templateObject9 || (_templateObject9 = (0, _taggedTemplateLiteral2.default)([\"\\n  background-color: #ff5733;\\n  color: #fff;\\n  border-radius: 50%;\\n  padding: 0 8px;\\n  margin-left: 5px;\\n\"])));\nvar PromoBanner = _styledComponents.default.div(_templateObject10 || (_templateObject10 = (0, _taggedTemplateLiteral2.default)([\"\\n  width: 100%;\\n  background-color: #ff5733;\\n  padding: 15px;\\n  color: #fff;\\n  text-align: center;\\n  margin: 20px 0;\\n  border-radius: 10px;\\n\"])));\nvar ContentSection = _styledComponents.default.section(_templateObject11 || (_templateObject11 = (0, _taggedTemplateLiteral2.default)([\"\\n  width: 100%;\\n  margin: 10px 0;\\n  padding: 10px;\\n  background-color: #ffffff;\\n  border-radius: 10px;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n\"])));\nvar SectionHeader = _styledComponents.default.h2(_templateObject12 || (_templateObject12 = (0, _taggedTemplateLiteral2.default)([\"\\n  font-size: 20px;\\n  color: #000;\\n  margin-bottom: 10px;\\n\"])));\nvar MenuItem = _styledComponents.default.div(_templateObject13 || (_templateObject13 = (0, _taggedTemplateLiteral2.default)([\"\\n  display: flex;\\n  justify-content: space-between;\\n  padding: 10px;\\n  border-bottom: 1px solid #ddd;\\n  align-items: center;\\n  cursor: pointer;\\n  &:hover {\\n    background-color: #f0f0f0;\\n  }\\n\"])));\nvar OfferItem = _styledComponents.default.div(_templateObject14 || (_templateObject14 = (0, _taggedTemplateLiteral2.default)([\"\\n  padding: 10px;\\n  border-bottom: 1px solid #ddd;\\n  cursor: pointer;\\n  background-color: \", \";\\n\"])), function (props) {\n  return props.selected ? '#ffeeba' : 'transparent';\n});\nvar ModalContent = _styledComponents.default.div(_templateObject15 || (_templateObject15 = (0, _taggedTemplateLiteral2.default)([\"\\n  background-color: #fff;\\n  padding: 20px;\\n  border-radius: 10px;\\n  width: 400px;\\n  max-height: 80vh;\\n  overflow-y: auto;\\n\"])));\nvar CartItem = _styledComponents.default.div(_templateObject16 || (_templateObject16 = (0, _taggedTemplateLiteral2.default)([\"\\n  display: flex;\\n  justify-content: space-between;\\n  padding: 10px;\\n  border-bottom: 1px solid #ddd;\\n  align-items: center;\\n\"])));\nvar OrderButton = _styledComponents.default.button(_templateObject17 || (_templateObject17 = (0, _taggedTemplateLiteral2.default)([\"\\n  padding: 10px 20px;\\n  margin-top: 10px;\\n  background-color: #ffc72c;\\n  border: none;\\n  border-radius: 5px;\\n  font-size: 16px;\\n  cursor: pointer;\\n  &:hover {\\n    background-color: #e0a800;\\n  }\\n\"])));\nvar ProfileForm = _styledComponents.default.form(_templateObject18 || (_templateObject18 = (0, _taggedTemplateLiteral2.default)([\"\\n  display: flex;\\n  flex-direction: column;\\n\"])));\nvar InputField = _styledComponents.default.input(_templateObject19 || (_templateObject19 = (0, _taggedTemplateLiteral2.default)([\"\\n  margin-bottom: 10px;\\n  padding: 8px;\\n  border-radius: 5px;\\n  border: 1px solid #ccc;\\n\"])));\nvar SaveButton = _styledComponents.default.button(_templateObject20 || (_templateObject20 = (0, _taggedTemplateLiteral2.default)([\"\\n  padding: 10px 20px;\\n  background-color: #ffc72c;\\n  border: none;\\n  border-radius: 5px;\\n  font-size: 16px;\\n  cursor: pointer;\\n  &:hover {\\n    background-color: #e0a800;\\n  }\\n\"])));\nvar FetchButton = _styledComponents.default.button(_templateObject21 || (_templateObject21 = (0, _taggedTemplateLiteral2.default)([\"\\n  padding: 10px 20px;\\n  margin-bottom: 10px;\\n  background-color: #ffc72c;\\n  border: none;\\n  border-radius: 5px;\\n  font-size: 16px;\\n  cursor: pointer;\\n  &:hover {\\n    background-color: #e0a800;\\n  }\\n\"])));\nvar LogoutButton = _styledComponents.default.button(_templateObject22 || (_templateObject22 = (0, _taggedTemplateLiteral2.default)([\"\\n  padding: 10px 20px;\\n  margin-top: 10px;\\n  background-color: #d9534f;\\n  border: none;\\n  border-radius: 5px;\\n  font-size: 16px;\\n  cursor: pointer;\\n  color: #fff;\\n  &:hover {\\n    background-color: #c9302c;\\n  }\\n\"])));\nvar ApplyButton = _styledComponents.default.button(_templateObject23 || (_templateObject23 = (0, _taggedTemplateLiteral2.default)([\"\\n  padding: 10px 20px;\\n  background-color: #ffc72c;\\n  border: none;\\n  border-radius: 5px;\\n  color: #000;\\n  font-size: 16px;\\n  cursor: pointer;\\n  &:hover {\\n    background-color: #e0a800;\\n  }\\n\"])));\nvar CountButton = _styledComponents.default.button(_templateObject24 || (_templateObject24 = (0, _taggedTemplateLiteral2.default)([\"\\n  background: none;\\n  border: none;\\n  font-size: 18px;\\n  cursor: pointer;\\n  margin: 0 10px;\\n\"])));\nvar SearchInput = _styledComponents.default.input(_templateObject25 || (_templateObject25 = (0, _taggedTemplateLiteral2.default)([\"\\n  width: 100%;\\n  padding: 8px;\\n  margin-bottom: 10px;\\n  border-radius: 5px;\\n  border: 1px solid #ccc;\\n\"])));\nvar AddToCartButton = _styledComponents.default.button(_templateObject26 || (_templateObject26 = (0, _taggedTemplateLiteral2.default)([\"\\n  padding: 10px 20px;\\n  margin-top: 10px;\\n  background-color: #ffc72c;\\n  border: none;\\n  border-radius: 5px;\\n  font-size: 16px;\\n  cursor: pointer;\\n  &:hover {\\n    background-color: #e0a800;\\n  }\\n\"])));\nvar PopUpMessage = _styledComponents.default.div(_templateObject27 || (_templateObject27 = (0, _taggedTemplateLiteral2.default)([\"\\n  position: fixed;\\n  top: 20px;\\n  right: 20px;\\n  background-color: #4caf50;\\n  color: white;\\n  padding: 10px;\\n  border-radius: 5px;\\n  z-index: 1000;\\n\"])));\nfunction Dashboard() {\n  var _useState = (0, _react.useState)([]),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    cart = _useState2[0],\n    setCart = _useState2[1];\n  var _useState3 = (0, _react.useState)(null),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    selectedOffer = _useState4[0],\n    setSelectedOffer = _useState4[1];\n  var _useState5 = (0, _react.useState)([]),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    orderHistory = _useState6[0],\n    setOrderHistory = _useState6[1];\n  var _useState7 = (0, _react.useState)({\n      id: '',\n      name: '',\n      email: '',\n      address: ''\n    }),\n    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n    profile = _useState8[0],\n    setProfile = _useState8[1];\n  var _useState9 = (0, _react.useState)({\n      id: userID,\n      name: '',\n      email: '',\n      address: '',\n      username: '',\n      password: ''\n    }),\n    _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n    profileForm = _useState10[0],\n    setProfileForm = _useState10[1];\n  var _useState11 = (0, _react.useState)(false),\n    _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n    isCartOpen = _useState12[0],\n    setIsCartOpen = _useState12[1];\n  var _useState13 = (0, _react.useState)(false),\n    _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n    isProfileOpen = _useState14[0],\n    setIsProfileOpen = _useState14[1];\n  var _useState15 = (0, _react.useState)(''),\n    _useState16 = (0, _slicedToArray2.default)(_useState15, 2),\n    searchQuery = _useState16[0],\n    setSearchQuery = _useState16[1];\n  var _useState17 = (0, _react.useState)([]),\n    _useState18 = (0, _slicedToArray2.default)(_useState17, 2),\n    tempCart = _useState18[0],\n    setTempCart = _useState18[1];\n  var _useState19 = (0, _react.useState)([]),\n    _useState20 = (0, _slicedToArray2.default)(_useState19, 2),\n    menuItems = _useState20[0],\n    setMenuItems = _useState20[1];\n  var _useState21 = (0, _react.useState)(''),\n    _useState22 = (0, _slicedToArray2.default)(_useState21, 2),\n    popUpMessage = _useState22[0],\n    setPopUpMessage = _useState22[1];\n  var _useState23 = (0, _react.useState)(''),\n    _useState24 = (0, _slicedToArray2.default)(_useState23, 2),\n    orderID = _useState24[0],\n    setOrderID = _useState24[1];\n  var _useState25 = (0, _react.useState)(false),\n    _useState26 = (0, _slicedToArray2.default)(_useState25, 2),\n    isOrderHistoryOpen = _useState26[0],\n    setIsOrderHistoryOpen = _useState26[1];\n  var basicAuth = localStorage.getItem('basicAuth');\n  var userID = localStorage.getItem('userID');\n  (0, _react.useEffect)(function () {\n    fetchMenuItems();\n  }, []);\n  var fetchMenuItems = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n      var response;\n      return _regenerator.default.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _axios.default.get('https://veomcourse.com:5000/api/menu-items', {\n              headers: {\n                'Authorization': \"Basic \".concat(basicAuth)\n              }\n            });\n          case 3:\n            response = _context.sent;\n            setMenuItems(response.data);\n            _context.next = 10;\n            break;\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            console.error('Error fetching menu items:', _context.t0);\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n    return function fetchMenuItems() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var fetchProfile = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n      var response;\n      return _regenerator.default.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _axios.default.get(\"https://veomcourse.com:5000/api/users/profile/\".concat(userID), {\n              headers: {\n                'Authorization': \"Basic \".concat(basicAuth)\n              }\n            });\n          case 3:\n            response = _context2.sent;\n            setProfile(response.data);\n            setProfileForm(response.data);\n            _context2.next = 11;\n            break;\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.error('Error fetching profile:', _context2.t0);\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[0, 8]]);\n    }));\n    return function fetchProfile() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var offers = [{\n    name: 'Buy 1 Get 1 Free on Big Mac',\n    type: 'bogo',\n    item: 'Big Mac'\n  }, {\n    name: '20% off on orders over $20',\n    type: 'discount',\n    discount: 0.2\n  }, {\n    name: 'Free Fries with any purchase',\n    type: 'free',\n    item: 'Fries'\n  }];\n  var handleAddToTempCart = function handleAddToTempCart(item) {\n    var existingItemIndex = tempCart.findIndex(function (cartItem) {\n      return cartItem.name === item.name;\n    });\n    if (existingItemIndex > -1) {\n      var newTempCart = (0, _toConsumableArray2.default)(tempCart);\n      newTempCart[existingItemIndex].count += 1;\n      setTempCart(newTempCart);\n    } else {\n      setTempCart([].concat((0, _toConsumableArray2.default)(tempCart), [_objectSpread(_objectSpread({}, item), {}, {\n        count: 1\n      })]));\n    }\n  };\n  var handleRemoveFromTempCart = function handleRemoveFromTempCart(index) {\n    var newTempCart = (0, _toConsumableArray2.default)(tempCart);\n    if (newTempCart[index].count > 1) {\n      newTempCart[index].count -= 1;\n    } else {\n      newTempCart.splice(index, 1);\n    }\n    setTempCart(newTempCart);\n  };\n  var handleMenuIncrement = function handleMenuIncrement(item) {\n    handleAddToTempCart(item);\n  };\n  var handleMenuDecrement = function handleMenuDecrement(item) {\n    var existingItemIndex = tempCart.findIndex(function (cartItem) {\n      return cartItem.name === item.name;\n    });\n    if (existingItemIndex > -1) {\n      handleRemoveFromTempCart(existingItemIndex);\n    }\n  };\n  var handleSelectOffer = function handleSelectOffer(offer) {\n    setSelectedOffer(selectedOffer && selectedOffer.name === offer.name ? null : offer);\n  };\n  var handleApplyOffer = function handleApplyOffer() {\n    if (selectedOffer) {\n      alert(\"Offer \\\"\".concat(selectedOffer.name, \"\\\" applied!\"));\n    }\n  };\n  var handleOrderNow = /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(e) {\n      var order, response;\n      return _regenerator.default.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            e.preventDefault();\n            order = {\n              items: cart,\n              userId: userID,\n              total: Number(getTotalPrice())\n              // Ensure userId is the ID of the user placing the order\n            };\n            _context3.prev = 2;\n            _context3.next = 5;\n            return _axios.default.post('https://veomcourse.com:5000/api/orders', order, {\n              headers: {\n                'Authorization': \"Basic \".concat(basicAuth)\n              }\n            });\n          case 5:\n            response = _context3.sent;\n            console.log('Order placed:', response.data);\n            //setOrderHistory([...orderHistory, response.data]);\n            setPopUpMessage('Your order has been placed. Order ID:' + response.data.apiResponse.orderID);\n            setTimeout(function () {\n              return setPopUpMessage('');\n            }, 5000); // Hide after 5 seconds\n\n            console.log('test');\n            setCart([]);\n            setIsCartOpen(false);\n            _context3.next = 17;\n            break;\n          case 14:\n            _context3.prev = 14;\n            _context3.t0 = _context3[\"catch\"](2);\n            if (_context3.t0.response && _context3.t0.response.data && _context3.t0.response.data.message) {\n              // Find the item that caused the error\n              alert(\"Not enough stock for the items you selected\");\n            } else {\n              console.error('Error placing order:', _context3.t0);\n            }\n          case 17:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3, null, [[2, 14]]);\n    }));\n    return function handleOrderNow(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleInputChange = function handleInputChange(e) {\n    var _e$target = e.target,\n      name = _e$target.name,\n      value = _e$target.value;\n    setProfileForm(_objectSpread(_objectSpread({}, profileForm), {}, (0, _defineProperty2.default)({}, name, value)));\n  };\n  var handleSaveProfile = /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(e) {\n      var response;\n      return _regenerator.default.wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            e.preventDefault();\n            _context4.prev = 1;\n            _context4.next = 4;\n            return _axios.default.put(\"https://veomcourse.com:5000/api/users/profile/\".concat(userID), profileForm, {\n              headers: {\n                'Authorization': \"Basic \".concat(basicAuth)\n              }\n            });\n          case 4:\n            response = _context4.sent;\n            console.log('Profile updated:', response.data);\n            setProfile(profileForm);\n            setIsProfileOpen(false);\n            _context4.next = 13;\n            break;\n          case 10:\n            _context4.prev = 10;\n            _context4.t0 = _context4[\"catch\"](1);\n            console.error('Error updating profile:', _context4.t0);\n          case 13:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4, null, [[1, 10]]);\n    }));\n    return function handleSaveProfile(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  //const fetchOrderHistory = async () => {\n  //  try {\n  //  const response = await axios.get('https://veomcourse.com:5000/api/orders');\n  //  setOrderHistory(response.data);\n  // setIsOrderHistoryOpen(true);\n  // } catch (error) {\n  //  console.error('Error fetching order history:', error);\n  // }\n  // };\n  var handleLogout = function handleLogout() {\n    localStorage.removeItem('userId');\n    window.location.href = 'https://veomcourse.com/login';\n  };\n  var getTotalPrice = function getTotalPrice() {\n    var total = cart.reduce(function (total, item) {\n      return total + Number(item.price) * item.count;\n    }, 0);\n    if (selectedOffer) {\n      switch (selectedOffer.type) {\n        case 'bogo':\n          var bogoItemCount = cart.filter(function (item) {\n            return item.name === selectedOffer.item;\n          }).reduce(function (count, item) {\n            return count + item.count;\n          }, 0);\n          var freeItems = Math.floor(bogoItemCount / 2);\n          total -= freeItems * menuItems.find(function (item) {\n            return item.name === selectedOffer.item;\n          }).price;\n          break;\n        case 'discount':\n          if (total > 20) {\n            total -= total * selectedOffer.discount;\n          }\n          break;\n        case 'free':\n          if (cart.length > 0) {\n            var freeItem = menuItems.find(function (item) {\n              return item.name === selectedOffer.item;\n            });\n            total -= freeItem.cost;\n          }\n          break;\n        default:\n          break;\n      }\n    }\n    return total;\n  };\n  var getMenuItemCount = function getMenuItemCount(itemName) {\n    var item = tempCart.find(function (cartItem) {\n      return cartItem.name === itemName;\n    });\n    return item ? item.count : 0;\n  };\n  var getTotalItemCount = function getTotalItemCount() {\n    return cart.reduce(function (total, item) {\n      return total + item.count;\n    }, 0);\n  };\n  var toggleCartModal = function toggleCartModal() {\n    setIsCartOpen(!isCartOpen);\n  };\n  var toggleProfileModal = function toggleProfileModal() {\n    setIsProfileOpen(!isProfileOpen);\n    if (!isProfileOpen) {\n      fetchProfile(); // Fetch user profile data when opening the modal\n    }\n  };\n  var handleSearchChange = function handleSearchChange(e) {\n    setSearchQuery(e.target.value);\n  };\n  var filteredMenuItems = menuItems.filter(function (item) {\n    return item.name.toLowerCase().includes(searchQuery.toLowerCase());\n  });\n  var handleAddToCart = function handleAddToCart() {\n    var newCart = (0, _toConsumableArray2.default)(cart);\n    tempCart.forEach(function (tempItem) {\n      var existingItemIndex = newCart.findIndex(function (cartItem) {\n        return cartItem.name === tempItem.name;\n      });\n      if (existingItemIndex > -1) {\n        newCart[existingItemIndex].count += tempItem.count;\n      } else {\n        newCart.push(tempItem);\n      }\n    });\n    setCart(newCart);\n    setTempCart([]);\n  };\n  var fetchOrderHistory = /*#__PURE__*/function () {\n    var _ref5 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5() {\n      var response;\n      return _regenerator.default.wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return _axios.default.get(\"https://veomcourse.com:5000/api/orders/user/\".concat(userID), {\n              headers: {\n                'Authorization': \"Basic \".concat(basicAuth)\n              }\n            });\n          case 3:\n            response = _context5.sent;\n            setOrderHistory(response.data);\n            setIsOrderHistoryOpen(true);\n            _context5.next = 11;\n            break;\n          case 8:\n            _context5.prev = 8;\n            _context5.t0 = _context5[\"catch\"](0);\n            console.error('Error fetching order history by user ID:', _context5.t0);\n          case 11:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5, null, [[0, 8]]);\n    }));\n    return function fetchOrderHistory() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var handleDecrement = function handleDecrement(index) {\n    var newCart = (0, _toConsumableArray2.default)(cart);\n    if (newCart[index].count > 1) {\n      newCart[index].count -= 1;\n    } else {\n      newCart.splice(index, 1);\n    }\n    setCart(newCart);\n  };\n  var toggleOrderHistoryModal = function toggleOrderHistoryModal() {\n    setIsOrderHistoryOpen(!isOrderHistoryOpen);\n  };\n  var handleIncrement = function handleIncrement(index) {\n    var newCart = (0, _toConsumableArray2.default)(cart);\n    newCart[index].count += 1;\n    setCart(newCart);\n  };\n  return /*#__PURE__*/_react.default.createElement(StyledDashboard, null, /*#__PURE__*/_react.default.createElement(Header, null, \"McDonald's\", /*#__PURE__*/_react.default.createElement(IconsWrapper, null, /*#__PURE__*/_react.default.createElement(UserIcon, {\n    onClick: toggleProfileModal\n  }, /*#__PURE__*/_react.default.createElement(_fa.FaUser, {\n    size: 24\n  }))), userID && /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      top: '5px',\n      left: '70%',\n      transform: 'translateX(-50%)',\n      backgroundColor: '#ffc72c',\n      padding: '5px 10px',\n      borderRadius: '5px',\n      color: '#000',\n      fontWeight: 'bold'\n    }\n  }, \"ID#: \", userID), /*#__PURE__*/_react.default.createElement(CartIcon, {\n    onClick: toggleCartModal\n  }, /*#__PURE__*/_react.default.createElement(_fa.FaShoppingCart, {\n    size: 24\n  }), /*#__PURE__*/_react.default.createElement(CartCount, null, getTotalItemCount()))), popUpMessage && /*#__PURE__*/_react.default.createElement(PopUpMessage, null, popUpMessage), /*#__PURE__*/_react.default.createElement(PromoBanner, null, /*#__PURE__*/_react.default.createElement(\"h2\", null, \"Exclusive Offers!\"), /*#__PURE__*/_react.default.createElement(\"p\", null, \"Get 20% off on your first order\")), /*#__PURE__*/_react.default.createElement(ContentSection, null, /*#__PURE__*/_react.default.createElement(SectionHeader, null, \"Menu\"), /*#__PURE__*/_react.default.createElement(SearchInput, {\n    type: \"text\",\n    placeholder: \"Search for a menu item\",\n    value: searchQuery,\n    onChange: handleSearchChange\n  }), filteredMenuItems.map(function (item, index) {\n    return /*#__PURE__*/_react.default.createElement(MenuItem, {\n      key: index\n    }, /*#__PURE__*/_react.default.createElement(\"span\", null, item.name), /*#__PURE__*/_react.default.createElement(\"span\", null, item.stock, \" Stock\"), /*#__PURE__*/_react.default.createElement(\"span\", null, \"$\", Number(item.price).toFixed(2)), /*#__PURE__*/_react.default.createElement(\"span\", null, /*#__PURE__*/_react.default.createElement(CountButton, {\n      onClick: function onClick() {\n        return handleMenuDecrement(item);\n      }\n    }, \"-\"), \"Count: \", getMenuItemCount(item.name), /*#__PURE__*/_react.default.createElement(CountButton, {\n      onClick: function onClick() {\n        return handleMenuIncrement(item);\n      }\n    }, \"+\")));\n  }), /*#__PURE__*/_react.default.createElement(AddToCartButton, {\n    onClick: handleAddToCart\n  }, \"Add To Cart\")), /*#__PURE__*/_react.default.createElement(ContentSection, null, /*#__PURE__*/_react.default.createElement(SectionHeader, null, \"Offers\"), offers.map(function (offer, index) {\n    return /*#__PURE__*/_react.default.createElement(OfferItem, {\n      key: index,\n      selected: selectedOffer && selectedOffer.name === offer.name,\n      onClick: function onClick() {\n        return handleSelectOffer(offer);\n      }\n    }, /*#__PURE__*/_react.default.createElement(\"span\", null, offer.name));\n  }), /*#__PURE__*/_react.default.createElement(\"button\", {\n    onClick: handleApplyOffer\n  }, selectedOffer ? 'Apply Offer' : 'Select an Offer')), /*#__PURE__*/_react.default.createElement(ContentSection, null, /*#__PURE__*/_react.default.createElement(SectionHeader, null, \"Profile\"), /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(\"h3\", null, \"Saved Information\"), /*#__PURE__*/_react.default.createElement(\"p\", null, /*#__PURE__*/_react.default.createElement(\"strong\", null, \"Name:\"), \" \", profile.name), /*#__PURE__*/_react.default.createElement(\"p\", null, /*#__PURE__*/_react.default.createElement(\"strong\", null, \"Email:\"), \" \", profile.email), /*#__PURE__*/_react.default.createElement(\"p\", null, /*#__PURE__*/_react.default.createElement(\"strong\", null, \"Address:\"), \" \", profile.address), /*#__PURE__*/_react.default.createElement(\"p\", null, /*#__PURE__*/_react.default.createElement(\"strong\", null, \"Username:\"), \" \", profile.username))), /*#__PURE__*/_react.default.createElement(LogoutButton, {\n    onClick: handleLogout\n  }, \"Logout\"), /*#__PURE__*/_react.default.createElement(OrderHistoryButton, {\n    onClick: fetchOrderHistory\n  }, \"Show Order History\"), /*#__PURE__*/_react.default.createElement(_reactModal.default, {\n    isOpen: isCartOpen,\n    onRequestClose: toggleCartModal,\n    contentLabel: \"Cart Modal\",\n    ariaHideApp: false,\n    style: {\n      overlay: {\n        backgroundColor: 'rgba(0, 0, 0, 0.5)'\n      },\n      content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)'\n      }\n    }\n  }, /*#__PURE__*/_react.default.createElement(ModalContent, null, /*#__PURE__*/_react.default.createElement(\"h2\", null, \"Cart\"), cart.length === 0 ? /*#__PURE__*/_react.default.createElement(\"p\", null, \"Your cart is empty\") : /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, cart.map(function (item, index) {\n    return /*#__PURE__*/_react.default.createElement(CartItem, {\n      key: index\n    }, /*#__PURE__*/_react.default.createElement(\"span\", null, item.name, \" x \", item.count), /*#__PURE__*/_react.default.createElement(\"span\", null, \"$\", (Number(item.price) * item.count).toFixed(2)), /*#__PURE__*/_react.default.createElement(CountButton, {\n      onClick: function onClick() {\n        return handleDecrement(index);\n      }\n    }, \"-\"), /*#__PURE__*/_react.default.createElement(CountButton, {\n      onClick: function onClick() {\n        return handleIncrement(index);\n      }\n    }, \"+\"), /*#__PURE__*/_react.default.createElement(\"button\", {\n      onClick: function onClick() {\n        return handleDecrement(index);\n      }\n    }, \"Remove\"));\n  }), /*#__PURE__*/_react.default.createElement(CartItem, null, /*#__PURE__*/_react.default.createElement(\"strong\", null, \"Total\"), /*#__PURE__*/_react.default.createElement(\"strong\", null, \"$\", getTotalPrice().toFixed(2))), /*#__PURE__*/_react.default.createElement(OrderButton, {\n    onClick: handleOrderNow\n  }, \"Order Now\")))), /*#__PURE__*/_react.default.createElement(_reactModal.default, {\n    isOpen: isProfileOpen,\n    onRequestClose: toggleProfileModal,\n    contentLabel: \"Profile Modal\",\n    ariaHideApp: false,\n    style: {\n      overlay: {\n        backgroundColor: 'rgba(0, 0, 0, 0.5)'\n      },\n      content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)'\n      }\n    }\n  }, /*#__PURE__*/_react.default.createElement(ModalContent, null, /*#__PURE__*/_react.default.createElement(\"h2\", null, \"Update Profile\"), /*#__PURE__*/_react.default.createElement(ProfileForm, {\n    onSubmit: handleSaveProfile\n  }, /*#__PURE__*/_react.default.createElement(FormGroup, null, /*#__PURE__*/_react.default.createElement(Label, {\n    htmlFor: \"name\"\n  }, \"Name\"), /*#__PURE__*/_react.default.createElement(InputField, {\n    type: \"text\",\n    name: \"name\",\n    id: \"name\",\n    placeholder: \"Name\",\n    value: profileForm.name,\n    onChange: handleInputChange\n  })), /*#__PURE__*/_react.default.createElement(FormGroup, null, /*#__PURE__*/_react.default.createElement(Label, {\n    htmlFor: \"email\"\n  }, \"Email\"), /*#__PURE__*/_react.default.createElement(InputField, {\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    placeholder: \"Email\",\n    value: profileForm.email,\n    onChange: handleInputChange\n  })), /*#__PURE__*/_react.default.createElement(FormGroup, null, /*#__PURE__*/_react.default.createElement(Label, {\n    htmlFor: \"address\"\n  }, \"Address\"), /*#__PURE__*/_react.default.createElement(InputField, {\n    type: \"text\",\n    name: \"address\",\n    id: \"address\",\n    placeholder: \"Address\",\n    value: profileForm.address,\n    onChange: handleInputChange\n  })), /*#__PURE__*/_react.default.createElement(FormGroup, null, /*#__PURE__*/_react.default.createElement(Label, {\n    htmlFor: \"username\"\n  }, \"Username\"), /*#__PURE__*/_react.default.createElement(InputField, {\n    type: \"text\",\n    name: \"username\",\n    id: \"username\",\n    placeholder: \"Username\",\n    value: profileForm.username,\n    onChange: handleInputChange\n  })), /*#__PURE__*/_react.default.createElement(FormGroup, null, /*#__PURE__*/_react.default.createElement(Label, {\n    htmlFor: \"password\"\n  }, \"Password\"), /*#__PURE__*/_react.default.createElement(InputField, {\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    placeholder: \"Password\",\n    value: profileForm.password,\n    onChange: handleInputChange\n  })), /*#__PURE__*/_react.default.createElement(SaveButton, {\n    type: \"submit\"\n  }, \"Save\")))), /*#__PURE__*/_react.default.createElement(_reactModal.default, {\n    isOpen: isOrderHistoryOpen,\n    onRequestClose: toggleOrderHistoryModal,\n    contentLabel: \"Order History Modal\",\n    ariaHideApp: false,\n    style: {\n      overlay: {\n        backgroundColor: 'rgba(0, 0, 0, 0.5)'\n      },\n      content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)'\n      }\n    }\n  }, /*#__PURE__*/_react.default.createElement(ModalContent, null, /*#__PURE__*/_react.default.createElement(\"h2\", null, \"Order History\"), orderHistory.length === 0 ? /*#__PURE__*/_react.default.createElement(\"p\", null, \"No past orders.\") : orderHistory.map(function (order, index) {\n    return /*#__PURE__*/_react.default.createElement(\"div\", {\n      key: index\n    }, /*#__PURE__*/_react.default.createElement(\"p\", null, /*#__PURE__*/_react.default.createElement(\"strong\", null, \"Order ID:\"), \" \", order.id), /*#__PURE__*/_react.default.createElement(\"p\", null, /*#__PURE__*/_react.default.createElement(\"strong\", null, \"Total:\"), \" $\", order.total), /*#__PURE__*/_react.default.createElement(\"p\", null, /*#__PURE__*/_react.default.createElement(\"strong\", null, \"Items:\"), \" \", order.items.map(function (item) {\n      return \"\".concat(item.name, \" x \").concat(item.count);\n    }).join(', ')), /*#__PURE__*/_react.default.createElement(\"hr\", null));\n  }))));\n}"},"sourceMaps":null,"error":null,"hash":"899d7edd85a6dd2482e8fd144df4f53c","cacheData":{"env":{}}}